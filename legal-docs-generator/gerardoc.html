<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Documentos Trabalhistas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js"></script>
    <style>
        body { padding: 20px; max-width: 1200px; margin: 0 auto; }
        .container { background: #f8f9fa; padding: 30px; border-radius: 10px; }
        .form-group { margin-bottom: 1.5rem; }
        .btn-primary { background-color: #0d6efd; border: none; }
        .btn-secondary { background-color: #6c757d; border: none; }
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { color: #0d6efd; }
        .footer-buttons { margin-top: 30px; text-align: center; }
        @media print {
            .no-print, .footer-buttons { display: none; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Gerador de Reclamação Trabalhista</h1>
        </div>
        
        <form id="documentForm">
            <!-- Campos do Reclamante -->
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Nome do Reclamante</label>
                        <input type="text" class="form-control capitalize" id="reclamanteNome">
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label>RG</label>
                        <input type="text" class="form-control" id="reclamanteRG" data-mask="00.000.000-A" placeholder="00.000.000-A">
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label>CPF</label>
                        <input type="text" class="form-control" id="reclamanteCPF" data-mask="000.000.000-00" placeholder="000.000.000-00">
                    </div>
                </div>
            </div>

            <!-- Mais campos conforme necessário... (todos os campos do template devem ser replicados) -->

            <div class="footer-buttons">
                <button type="button" class="btn btn-secondary me-3" onclick="window.location.href='../index.html'">Página Inicial</button>
                <button type="button" class="btn btn-primary" onclick="gerarDocumento()">Gerar Documento</button>
            </div>
        </form>

        <div id="documentoGerado" class="mt-5" style="display: none;">
            <div class="d-flex justify-content-between">
                <button class="btn btn-secondary" onclick="window.print()">Imprimir</button>
                <button class="btn btn-success" onclick="exportarPDF()">Exportar PDF</button>
                <button class="btn btn-info" onclick="exportarDOC()">Exportar DOC</button>
                <button class="btn btn-secondary" onclick="window.location.href='./legal-docs-generator/gerardoc.html'">Novo Documento</button>
            </div>
            <div id="conteudoDocumento" class="mt-4 p-4" style="background: white; min-height: 800px;">
                <!-- Conteúdo gerado aqui -->
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function(){
            $('.capitalize').on('input', function() {
                $(this).val($(this).val().replace(/\b\w/g, l => l.toUpperCase()));
            });

            $('[data-mask]').each(function() {
                $(this).mask($(this).data('mask'));
            });
        });

        function gerarDocumento() {
            const dataAtual = new Date();
            const meses = ['janeiro', 'fevereiro', 'março', 'abril', 'maio', 'junho', 
                         'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro'];
            
            const cidadeData = `Rio de Janeiro, ${dataAtual.getDate()} de ${meses[dataAtual.getMonth()]} de ${dataAtual.getFullYear()}`;

            const template = `...`; // Conteúdo completo do template aqui

            const conteudo = template.replace(/{{VARA_TRABALHO}}/g, $('#varaTrabalho').val())
                                    .replace(/{{CIDADE_UF}}/g, 'Rio de Janeiro/RJ')
                                    // ... substituir todos os placeholders
                                    .replace(/{{CIDADE_DATA}}/g, cidadeData);

            $('#conteudoDocumento').html(`<pre>${conteudo}</pre>`);
            $('#documentoGerado').show();
        }

        function exportarPDF() {
            const doc = new jspdf.jsPDF();
            doc.text($('#conteudoDocumento').text(), 10, 10);
            doc.save('documento.pdf');
        }

        function exportarDOC() {
            const blob = new Blob([$('#conteudoDocumento').text()], { type: 'application/msword' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'documento.doc';
            link.click();
        }
    </script>
</body>
</html>